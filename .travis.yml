sudo: required
language: cpp

git:
  submodules: true
  depth: 5

jobs:
  include:
    - os: linux
      name: Linux Bionic
      dist: bionic
      addons:
        apt:
          packages:
            - cmake
      script:
        - mkdir build
        - cd build
        - cmake ..
        - make
    - os: windows
      name: Windows
      install:
        - choco upgrade cmake.install
        - choco install openssl ninja visualstudio2019-workload-vctools -y
      script:
        - mkdir build
        - cd build
        - cmake ..
        - make